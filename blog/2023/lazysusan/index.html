<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>The Lazy Susan puzzle | wongkj12</title>
    <meta name="author" content="Wong  Kai Jie">
    <meta name="description" content="An interesting puzzle on a Lazy Susan">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.3/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://wongkj12.github.io/blog/2023/lazysusan/">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/">wongkj12</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">The Lazy Susan puzzle</h1>
    <p class="post-meta">August 15, 2023</p>
    <p class="post-tags">
      <a href="/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a>
        ·  
        <a href="/blog/tag/math">
          <i class="fas fa-hashtag fa-sm"></i> math</a>  
          
        ·  
        <a href="/blog/category/notes">
          <i class="fas fa-tag fa-sm"></i> notes</a>  
          

    </p>
  </header>

  <article class="post-content">
    
    <div id="markdown-content">
      <p>Here is an interesting problem I encountered a long while ago:</p>

<blockquote>
  <p>A genie arranges \(2^n\) coins in a circle on a Lazy Susan. They are randomly oriented, and you are blindfolded so that you cannot tell whether a coin is facing heads or tails. A round consists of you flipping any number of the coins in front of you. If all coins are facing the same direction (i.e all heads or all tails), then the game ends. Otherwise, the genie then rotates the Lazy Susan by a <em>random</em> angle, and the next round begins. Devise an algorithm to be able to end the game in a finite number of rounds.</p>
</blockquote>

<p>It was quite surprising that a solution even exists, considering that we have so little information!</p>

<p>Here is an example of solving a game in 7 rounds when \(n=2\). We can represent the coins as a string of ‘1’s and ‘0’s (heads or tails), and we can also represent a flip action as a string of ‘1’s and ‘0’s, where a ‘1’ at position k indicates that we flip the coin at position k.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0010
1000 (flip 1010)
0001 (genie rotates by 3 clockwise)
1101 (flip 1100)
0111 (genie rotates by 2 clockwise)
1101 (flip 1010)
1110 (genie rotates by 1 clockwise)
0110 (flip 1000)
0110 (genie rotates by 0 clockwise)
1100 (flip 1010)
0110 (genie rotates by 1 clockwise)
1010 (flip 1100)
0101 (genie rotates by 1 clockwise)
1111 (flip 1010 END)
</code></pre></div></div>

<p>The sequence of moves shown above is in fact a deterministic solution for n = 2. Any n = 2 game will terminate within these 7 rounds! If we name the moves \(A=1010\), \(B=1100\), \(C=1000\), the solution is the pattern \(ABACABA\). In general, the solution for arbitrary n can be shown inductively to be the following:</p>

<p><em>Suppose the sequence of moves \(s_1,s_2,\ldots,s_k\) is a solution for \(2^{n-1}\) coins. Then let \(m_i = s_i\cdot s_i\) (concatenation of \(s_i\) to itself), and \(m_i' = s_i\cdot 00\ldots 00\) (concatenation of \(s_i\) to \(2^{n-1}\) zeroes). Let the move \(d = 11\ldots 1100\ldots 00\) (\(2^{n-1}\) ones followed by \(2^{n-1}\) zeroes), and define the sequence \(S=(m_1,m_2,\ldots,m_k)\). Then the sequence \(S,d,S,m_1',S,d,S,m_2',S,d,S,m_3',\ldots,m_k',S,d,S\) is a solution for \(2^n\) coins.</em></p>

<p><strong>Proof:</strong></p>

<p>The solution boils down to the two rough ideas:</p>

<ol>
  <li>
    <p>If a configuration for \(2^n\) coins is symmetrical, then we can apply the solution for \(2^{n-1}\) coins symmetrically (we do this whenever we apply S every other move).</p>
  </li>
  <li>
    <p>Otherwise, we apply a move in S “asymmetrically” to make the configuration closer to symmetry. (i.e. we apply the moves \(m_i'\) in between every “S, d, S”).</p>
  </li>
</ol>

<p>The addition of the moves ‘d’ will be explained in (2).</p>

<p>For (1):</p>

<p>Consider the symmetrical configuration 11001100. Rotated by 1 clockwise, it becomes 01100110. This is the same as rotating “1100” by 1 clockwise to “0110”, then concatenating it to itself. In other words, symmetry is always maintained after rotation, and is equivalent to rotating each symmetric half seperately. (To prove this more formally, consider any symmetric configuration \(a_1a_2\ldots a_ka_1a_2\ldots a_k\). After rotation by 1 clockwise, it becomes \(a_ka_1a_2\ldots a_{k-1}a_ka_1a_2\ldots a_{k-1}\), which is \(a_ka_1a_2\ldots a_{k-1}\) concatenated to itself, i.e. the rotation acts symmetrically. For any arbitrary rotation by k, we can then continue inductively.)</p>

<p>Thus for symmetrical configurations in \(2^n\) coins, it is equivalent to solving for \(2^{n-1}\) coins symmetrically.</p>

<p>For (2):</p>

<p>What if the configuration is not symmetrical, and how can we make it symmetrical? For any given configuration \(L\cdot R\) (where \(L\) and \(R\) are the left and right halves of \(2^{n-1}\) coins respectively), we can think about the string \(Q = L \oplus R\) (where \(\oplus\) is the XOR operation). For example, given the configuration \(11001010\), \(Q=1100\oplus 1010 = 0110\). On the other hand, if a configuration is already symmetric, then \(Q=L\oplus R = L\oplus L = 00\ldots00\). If we rotate \(11001010\) by 1 clockwise to \(01100101\), then \(Q\) becomes \(0011\) - in other words, \(Q\) is also rotated by 1 clockwise. In general, whenever a rotation is applied to a configuration, \(Q\) is also rotated by the same amount! (Can be proven formally in a similar manner as in (1))</p>

<p>Next, notice that applying a flip “asymmetrically” allows us to change \(Q\) accordingly. For example, given the configuration \(01001100, Q=1000\), after applying the flip \(1000\cdot 0000\), \(Q\) becomes \(0000\). This was equivalent to applying the “flip” \(1000\) to \(Q\).</p>

<p>Now, if a configuration is not symmetrical, there are 2 cases to consider: \(Q=11\ldots 11\) and \(Q\neq 11\ldots 11\). If \(Q=11\ldots 11\), then we can simply apply the flip \(d=11\ldots 1100\ldots 00\) to make \(Q=00\ldots 00\).</p>

<p>If \(Q \neq 11\ldots 11\), then making \(Q=00\ldots 00\) is equivalent to solving the game in \(2^{n-1}\) coins, thus we apply the sequence of flips asymmetrically!</p>

<p>Finally, note that whenever we apply the symmetrical moves \(S\), \(Q\) is invariant (up to rotations). Hence the sequence \(S,d,S,m_1',S,d,S,m_2',S,d,S,m_3',\ldots,m_k',S,d,S\) must solve the game, for a maximum of \(2^{2^{n-1}}-1\) rounds.</p>

<hr>

<p>We could take advantage of symmetry because the number of coins, \(N\), was a power of two. However, what about other values of \(N\)? <strong>It turns out that only tables with \(N=2^n\) coins can be solved deterministically!</strong></p>

<p><strong>Proof</strong>:</p>

<p>First, we show that no tables where \(N\) is odd can be solved deterministically.</p>

<p>Take \(N=9\), and consider a periodic configuration like \(100100100\). Since we are blindfolded, we never know which exact configurations the coins can be in, only what they may rotate to. Thus we only look at all possible rotations of \(100100100\), i.e. the <em>orbit</em> \(\{100100100,010010010,001001001\}\) (“orbit” as per group theory). This orbit has size 3 since \(100100100\) is periodic under rotation with cycle length 3. For odd \(N\), aside from the solved orbits \(\{00\ldots 00\}\) and \(\{11\ldots 11\}\), all orbits have size \(&gt;2\) since 2 does not divide \(N\) and thus a configuration cannot be periodic with cycle length 2. However, each flip can only solve at most 2 configurations at once (e.g. the flip 10011 solves configurations 10011 and 01100) - in <em>any</em> orbit with size \(&gt;2\), there will be a nonzero probability of failure. Thus the number of rounds played can be arbitrarily large, and odd tables cannot be solved deterministically.</p>

<p>Next, we show that having a solution for \(N\) coins implies there is a solution for \(N/2\) coins.</p>

<p>Solving the \(N\) coin case means we are able to bring any asymmetric configuration in \(N\) coins to a symmetric one. In other words, we can make the quantity \(Q=L-R\) zero, which is equivalent to the \(N/2\) coin problem.</p>

<p>Combining the above two facts, we can see that only tables of size \(2^n\) may be solved deterministically.</p>


    </div>
  </article>
</div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2023 Wong  Kai Jie. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.3/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
